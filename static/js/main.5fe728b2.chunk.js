(window.webpackJsonpskilldisplay=window.webpackJsonpskilldisplay||[]).push([[0],[,,,,,,,function(n,e,t){n.exports=t(16)},,,,,function(n,e,t){},,function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t.r(e);var a=t(0),o=t.n(a),r=t(2),c=t.n(r),i=t(1),s=t(4),u=function(){return/HOST_PORT=(wss?:\/\/.+)/.exec(window.location.search)};function l(n){return u()?function n(e){var t=new URLSearchParams(window.location.search);var a="".concat(t.get("HOST_PORT"),"BeforeLogLineRead")||!1;var o=new WebSocket(a);o.onerror=function(){return o.close()};o.onclose=function(){return setTimeout(function(){n(e)},1e3)};o.onmessage=function(n,t){if("."===n.data)return o.send(".");var a=JSON.parse(n.data);return"SendCharName"===a.msgtype?e(a.msg):"Chat"===a.msgtype?e.apply(void 0,Object(s.a)(a.msg.split("|"))):void 0};return function(){o.close()}}(n):function(n){var e=function(e){var t=e.detail.message;n.apply(void 0,Object(s.a)(t))};return document.addEventListener("onLogLine",e),function(){document.removeEventListener("onLogLine",e)}}(n)}t(12);var d=t(3),f=t.n(d),m=t(6),v=(t(14),new Set([15997,15998,15999,16e3,16001,16002,16003,16004,16191,16192,16193,16194,16195,16196,7418,16483])),p=new Set([3559,116,114]);function h(n){var e=n.actionId,t=n.additionalClasses,a=o.a.useState(),r=Object(i.a)(a,2),c=r[0],s=r[1];return o.a.useEffect(function(){var n=!0;return Object(m.a)(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://xivapi.com/Action/".concat(e),{mode:"cors"});case 2:return t.next=4,t.sent.json();case 4:a=t.sent,n&&s(a);case 6:case"end":return t.stop()}},t)}))(),function(){n=!1}},[e]),void 0!==c&&c.Icon?o.a.createElement("img",{className:v.has(e)||!p.has(e)&&4!==c.ActionCategory.ID?"gcd ".concat(t):"ogcd ".concat(t),src:"https://xivapi.com/".concat(c.Icon),alt:c.Name||""}):null}t(15);function w(n){var e=n.encounterId,t=n.name,a=n.actionList,r=o.a.useState(!1),c=Object(i.a)(r,2),s=c[0],u=c[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:s?"rotation-button expanded":"rotation-button",onClick:function(){u(function(n){return!n})}},0===e?"Current Rotation":t),o.a.createElement(g,{expanded:s,actionList:a}))}function g(n){var e=n.expanded,t=n.actionList;return e?o.a.createElement("div",{className:"rotation-list"},t.map(function(n,e){return o.a.createElement(h,{key:e,actionId:n,additionalClasses:"action-rotation"})})):null}var E=new Set(["00","01","02","21","22","33"]);c.a.render(o.a.createElement(function(){var n=o.a.useState([]),e=Object(i.a)(n,2),t=e[0],a=e[1],r=o.a.useState([]),s=Object(i.a)(r,2),u=s[0],d=s[1];return o.a.useEffect(function(){var n,e="",t=-1,o="Unknown",r=1,i=l(function(){for(var i=function(){d(function(n){return n[0]&&n[0].rotation&&n[0].rotation.length<=0&&n.shift(),n.unshift({name:o,rotation:[]}),n.slice(0,3)})},s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];if(1===u.length&&u[0].charID)return n=u[0].charID,void i();var f=u[0],m=u[1],v=u[2],p=u[3],h=u[4];if(E.has(f)){switch(f){case"00":return void("0038"===v&&"end"===h&&i());case"01":return void(o=p);case"02":return n=parseInt(v,16),void i();case"33":return void("40000012"!==p&&"40000010"!==p||i())}if(void 0!==n&&parseInt(v,16)===n){var w=parseInt(h,16);if(!(w<=8||m===e&&w===t)){Date.now()-Date.parse(e)>12e4&&i(),e=m,t=w;var g=r%256+1;r=g,c.a.unstable_batchedUpdates(function(){a(function(n){return n.concat({action:w,key:g})}),d(function(n){return n[0]||(n[0]={name:o,rotation:[]}),n[0].rotation.push(w),n})}),setTimeout(function(){a(function(n){return n.slice(1)})},1e4)}}}});return function(){i()}},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"actions"},t.map(function(n){var e=n.action,t=n.key;return o.a.createElement(h,{key:t,actionId:e,additionalClasses:"action-move"})})),u.map(function(n,e){return o.a.createElement(w,{key:e,encounterId:e,name:n.name,actionList:n.rotation})})))},null),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.5fe728b2.chunk.js.map